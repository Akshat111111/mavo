{"version":3,"sources":["node.js"],"names":[],"mappings":"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","file":"mavo.es5.js","sourcesContent":["(function($, $$) {\n\nvar _ = Mavo.Node = $.Class({\n\tabstract: true,\n\tconstructor: function (element, mavo, options = {}) {\n\t\tif (!element || !mavo) {\n\t\t\tthrow new Error(\"Mavo.Node constructor requires an element argument and a mavo object\");\n\t\t}\n\n\t\tvar env = {context: this, options};\n\n\t\tthis.uid = ++_.maxId;\n\n\t\t_.all.set(element, [...(_.all.get(this.element) || []), this]);\n\n\t\tthis.element = element;\n\t\tthis.template = env.options.template;\n\n\t\tif (this.template) {\n\t\t\t// TODO remove if this is deleted\n\t\t\tthis.template.copies.push(this);\n\t\t}\n\t\telse {\n\t\t\tthis.copies = [];\n\t\t}\n\n\t\tthis.mavo = mavo;\n\n\t\tif (!this.fromTemplate(\"property\", \"type\", \"modes\")) {\n\t\t\tthis.property = _.getProperty(element);\n\t\t\tthis.type = Mavo.Group.normalize(element);\n\t\t\tthis.store = this.element.getAttribute(\"mv-storage\");\n\t\t\tthis.modes = this.element.getAttribute(\"mv-mode\");\n\t\t}\n\n\t\tthis.modeObserver = new Mavo.Observer(this.element, \"mv-mode\", records => {\n\t\t\tconsole.log(\"%cmutation observer on\", \"color:purple;\", this.property, this.uid, this.template);\n\t\t\tthis.mode = this.element.getAttribute(\"mv-mode\");\n\t\t\tthis[this.mode == \"edit\"? \"edit\" : \"done\"]();\n\t\t});\n\n\t\tthis.mode = this.modes || \"read\";\n\n\t\tthis.group = this.parentGroup = env.options.group;\n\n\t\tMavo.hooks.run(\"node-init-end\", env);\n\t},\n\n\tget editing() {\n\t\treturn this.mode == \"edit\";\n\t},\n\n\tget constant() {\n\t\t// Is a \"constant\" if only allowed mode is read\n\t\treturn this.modes == \"read\";\n\t},\n\n\tget isRoot() {\n\t\treturn !this.property;\n\t},\n\n\tget name() {\n\t\treturn Mavo.readable(this.property || this.type).toLowerCase();\n\t},\n\n\tget data() {\n\t\treturn this.getData();\n\t},\n\n\tget saved() {\n\t\treturn this.store !== \"none\";\n\t},\n\n\tget path() {\n\t\tvar path = this.parentGroup? this.parentGroup.path : [];\n\n\t\treturn this.property? [...path, this.property] : path;\n\t},\n\n\tgetData: function(o = {}) {\n\t\tif (this.isDataNull(o)) {\n\t\t\treturn null;\n\t\t}\n\n\t\t// Check if any of the parent groups doesn't return data\n\t\tthis.walkUp(group => {\n\t\t\tif (group.isDataNull(o)) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t});\n\t},\n\n\tisDataNull: function(o) {\n\t\tvar env = {\n\t\t\tcontext: this,\n\t\t\toptions: o,\n\t\t\tresult: this.deleted || !this.saved && (o.store != \"*\")\n\t\t};\n\n\t\tMavo.hooks.run(\"unit-isdatanull\", env);\n\n\t\treturn env.result;\n\t},\n\n\t/**\n\t * Execute a callback on every node of the Mavo tree\n\t * If callback returns (strict) false, walk stops.\n\t * @return false if was stopped via a false return value, true otherwise\n\t */\n\twalk: function(callback, path = []) {\n\t\tvar walker = (obj, path) => {\n\t\t\tvar ret = callback(obj, path);\n\n\t\t\tif (ret !== false) {\n\t\t\t\tfor (let i in obj.children) {\n\t\t\t\t\tlet node = obj.children[i];\n\n\t\t\t\t\tif (node instanceof Mavo.Node) {\n\t\t\t\t\t\tvar ret = walker.call(node, node, [...path, i]);\n\n\t\t\t\t\t\tif (ret === false) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn ret !== false;\n\t\t};\n\n\t\treturn walker(this, path);\n\t},\n\n\twalkUp: function(callback) {\n\t\tvar group = this;\n\n\t\twhile (group = group.parentGroup) {\n\t\t\tvar ret = callback(group);\n\n\t\t\tif (ret !== undefined) {\n\t\t\t\treturn ret;\n\t\t\t}\n\t\t}\n\t},\n\n\tedit: function() {\n\t\tthis.mode = \"edit\";\n\n\t\tthis.propagate(\"edit\");\n\n\t\tMavo.hooks.run(\"node-edit-end\", this);\n\t},\n\n\tdone: function() {\n\t\tthis.mode = \"read\";\n\t\t$.unbind(this.element, \".mavo:edit\");\n\n\t\tthis.propagate(\"done\");\n\n\t\tMavo.hooks.run(\"node-done-end\", this);\n\t},\n\n\tpropagate: function(callback) {\n\t\tfor (let i in this.children) {\n\t\t\tlet node = this.children[i];\n\n\t\t\tif (node instanceof Mavo.Node) {\n\t\t\t\tif (typeof callback === \"function\") {\n\t\t\t\t\tcallback.call(node, node);\n\t\t\t\t}\n\t\t\t\telse if (callback in node) {\n\t\t\t\t\tnode[callback]();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tpropagated: [\"save\", \"revert\"],\n\n\ttoJSON: Mavo.prototype.toJSON,\n\n\tfromTemplate: function(...properties) {\n\t\tif (this.template) {\n\t\t\tfor (let property of properties) {\n\t\t\t\tthis[property] = this.template[property];\n\t\t\t}\n\t\t}\n\n\t\treturn !!this.template;\n\t},\n\n\trender: function(data) {\n\t\tMavo.hooks.run(\"node-render-start\", this);\n\n\t\tthis.rendering = true;\n\n\t\tif (this.editing) {\n\t\t\tthis.done();\n\t\t\tthis.dataRender(data);\n\t\t\tthis.edit();\n\t\t}\n\t\telse {\n\t\t\tthis.dataRender(data);\n\t\t}\n\n\t\tthis.save();\n\n\t\tthis.rendering = false;\n\n\t\tMavo.hooks.run(\"node-render-end\", this);\n\t},\n\n\tdataChanged: function(action, o = {}) {\n\t\tif (!this.rendering) {\n\t\t\t$.fire(o.element || this.element, \"mavo:datachange\", $.extend({\n\t\t\t\tproperty: this.property,\n\t\t\t\taction,\n\t\t\t\tmavo: this.mavo,\n\t\t\t\tnode: this\n\t\t\t}, o));\n\t\t}\n\t},\n\n\ttoString: function() {\n\t\treturn `#${this.uid}: ${this.nodeType} (${this.property})`;\n\t},\n\n\tlive: {\n\t\tstore: function(value) {\n\t\t\t$.toggleAttribute(this.element, \"mv-storage\", value);\n\t\t},\n\n\t\tunsavedChanges: function(value) {\n\t\t\tif (value && (!this.saved || !this.editing)) {\n\t\t\t\tvalue = false;\n\t\t\t}\n\n\t\t\tthis.element.classList.toggle(\"mv-unsaved-changes\", value);\n\n\t\t\treturn value;\n\t\t},\n\n\t\tmode: function (value) {\n\t\t\tif (this._mode != value) {\n\t\t\t\t// If we don't do this, calling setAttribute below will\n\t\t\t\t// result in infinite recursion\n\t\t\t\tthis._mode = value;\n\n\t\t\t\tthis.modeObserver.sneak(() => {\n\t\t\t\t\tvar set = this.modes || this.mode == \"edit\";\n\t\t\t\t\t$.toggleAttribute(this.element, \"mv-mode\", value, set);\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t},\n\n\tstatic: {\n\t\tmaxId: 0,\n\n\t\tall: new WeakMap(),\n\n\t\tcreate: function(element, mavo, o = {}) {\n\t\t\tif (Mavo.is(\"multiple\", element) && !o.collection) {\n\t\t\t\treturn new Mavo.Collection(element, mavo, o);\n\t\t\t}\n\n\t\t\treturn new Mavo[Mavo.is(\"group\", element)? \"Group\" : \"Primitive\"](element, mavo, o);\n\t\t},\n\n\t\t/**\n\t\t * Get & normalize property name, if exists\n\t\t */\n\t\tgetProperty: function(element) {\n\t\t\tvar property = element.getAttribute(\"property\") || element.getAttribute(\"itemprop\");\n\n\t\t\tif (!property && element.hasAttribute(\"property\")) {\n\t\t\t\tproperty = element.name || element.id || element.classList[0];\n\t\t\t}\n\n\t\t\tif (property) {\n\t\t\t\telement.setAttribute(\"property\", property);\n\t\t\t}\n\n\t\t\treturn property;\n\t\t},\n\n\t\tget: function(element, prioritizePrimitive) {\n\t\t\tvar nodes = (_.all.get(element) || []).filter(node => !(node instanceof Mavo.Collection));\n\n\t\t\tif (nodes.length < 2 || !prioritizePrimitive) {\n\t\t\t\treturn nodes[0];\n\t\t\t}\n\n\t\t\tif (nodes[0] instanceof Mavo.Group) {\n\t\t\t\treturn node[1];\n\t\t\t}\n\t\t}\n\t}\n});\n\n})(Bliss, Bliss.$);\n"],"sourceRoot":"/source/"}